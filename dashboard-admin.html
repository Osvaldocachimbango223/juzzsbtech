<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - Juzzs</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard-styles.css">
    <link rel="stylesheet" href="employee-styles.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-brand">
                <img src="logo.png" alt="Juzzs Logo" width="40px">
                <div>
                    <h2>Juzzs</h2>
                    <span>Admin</span>
                </div>
            </div>

            <nav>
                <ul class="sidebar-menu">
                    <li><a href="#" onclick="showSection('inicio')" class="active">
                        <span class="icon">üìä</span>
                        <span>Vis√£o Geral</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('reservas')">
                        <span class="icon">üìÖ</span>
                        <span>Reservas</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('disponibilidade')">
                        <span class="icon">üè®</span>
                        <span>Disponibilidade</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('clientes')">
                        <span class="icon">üë•</span>
                        <span>Clientes</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('funcionarios')">
                        <span class="icon">üëî</span>
                        <span>Funcion√°rios</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('relatorios')">
                        <span class="icon">üìà</span>
                        <span>Relat√≥rios</span>
                    </a></li>
                    <li><a href="#" onclick="showSection('configuracoes')">
                        <span class="icon">‚öôÔ∏è</span>
                        <span>Configura√ß√µes</span>
                    </a></li>
                </ul>
            </nav>

            <div class="sidebar-user">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar" style="background: linear-gradient(135deg, #8B5CF6, #6366F1);"></div>
                    <div class="user-details">
                        <h4 id="userName"></h4>
                        <p>Administrador</p>
                    </div>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <span>üö™</span>
                    Sair
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- In√≠cio Section -->
            <div id="inicio-section" class="section active">
                <div class="dashboard-header">
                    <div>
                        <h1>Painel Administrativo</h1>
                        <p>Vis√£o geral completa do sistema</p>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: #10B981;">üí∞</div>
                        </div>
                        <div class="stat-value" id="totalReceita">0 Kz</div>
                        <div class="stat-label">Receita Total</div>
                    </div>
                    <div class="stat-card clickable" onclick="showSection('reservas')">
                        <div class="stat-card-header">
                            <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3B82F6;">üìÖ</div>
                        </div>
                        <div class="stat-value" id="totalReservas">0</div>
                        <div class="stat-label">Total Reservas</div>
                    </div>
                    <div class="stat-card clickable" onclick="showSection('clientes')">
                        <div class="stat-card-header">
                            <div class="stat-icon" style="background: rgba(139, 92, 246, 0.1); color: #8B5CF6;">üë•</div>
                        </div>
                        <div class="stat-value" id="totalClientes">0</div>
                        <div class="stat-label">Clientes</div>
                    </div>
                    <div class="stat-card clickable" onclick="showSection('funcionarios')">
                        <div class="stat-card-header">
                            <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: #F59E0B;">üëî</div>
                        </div>
                        <div class="stat-value" id="totalFuncionarios">0</div>
                        <div class="stat-label">Funcion√°rios</div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats-grid">
                    <div class="quick-stat-card">
                        <h4>Reservas Pendentes</h4>
                        <p class="stat-number" id="reservasPendentes">0</p>
                        <button class="btn-quick" onclick="filterReservationsBy('pending')">Ver ‚Üí</button>
                    </div>
                    <div class="quick-stat-card">
                        <h4>Clientes Ativos</h4>
                        <p class="stat-number" id="clientesAtivos">0</p>
                        <button class="btn-quick" onclick="showSection('clientes')">Ver ‚Üí</button>
                    </div>
                    <div class="quick-stat-card">
                        <h4>Taxa de Ocupa√ß√£o</h4>
                        <p class="stat-number" id="taxaOcupacao">0%</p>
                        <button class="btn-quick" onclick="showSection('disponibilidade')">Ver ‚Üí</button>
                    </div>
                    <div class="quick-stat-card">
                        <h4>Ticket M√©dio</h4>
                        <p class="stat-number" id="ticketMedio">0 Kz</p>
                        <button class="btn-quick" onclick="showSection('relatorios')">Ver ‚Üí</button>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Atividades Recentes</h3>
                        <a href="#" onclick="showSection('reservas')" class="link-view-all">Ver todas ‚Üí</a>
                    </div>
                    <div id="recentActivity"></div>
                </div>
            </div>

            <!-- Reservas Section -->
            <div id="reservas-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Gest√£o de Reservas</h1>
                        <p>Visualize e gerencie todas as reservas do sistema</p>
                    </div>
                </div>

                <div class="card">
                    <div class="filters-bar">
                        <input 
                            type="text" 
                            id="searchReservation" 
                            placeholder="üîç Buscar por cliente, hotel ou ID..." 
                            class="search-input"
                            oninput="filterReservations()"
                        >
                        <select id="typeFilterRes" class="filter-select" onchange="filterReservations()">
                            <option value="all">üì¶ Todos os Tipos</option>
                            <option value="hotel">üè® Hot√©is</option>
                            <option value="package">üì¶ Pacotes</option>
                        </select>
                        <select id="reservationStatusFilter" class="filter-select" onchange="filterReservations()">
                            <option value="all">Todos os Status</option>
                            <option value="pending">‚è∞ Pendentes</option>
                            <option value="confirmed">‚úì Confirmadas</option>
                            <option value="cancelled">‚úó Canceladas</option>
                        </select>
                    </div>
                    <div id="reservationsList"></div>
                </div>
            </div>

            <!-- Disponibilidade Section -->
            <div id="disponibilidade-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Disponibilidade de Hot√©is</h1>
                        <p>Consulte e gerencie a disponibilidade de quartos</p>
                    </div>
                </div>

                <div class="card">
                    <div class="availability-filters">
                        <div class="form-group">
                            <label>Data de Check-in</label>
                            <input type="date" id="availCheckInAdmin" class="form-input" onchange="checkAvailabilityAdmin()">
                        </div>
                        <div class="form-group">
                            <label>Data de Check-out</label>
                            <input type="date" id="availCheckOutAdmin" class="form-input" onchange="checkAvailabilityAdmin()">
                        </div>
                        <div class="form-group">
                            <label>H√≥spedes</label>
                            <input type="number" id="availGuestsAdmin" class="form-input" value="2" min="1" max="10" onchange="checkAvailabilityAdmin()">
                        </div>
                        <button class="btn-check-avail" onclick="checkAvailabilityAdmin()">
                            üîç Verificar Disponibilidade
                        </button>
                    </div>
                </div>

                <div id="availabilityResultsAdmin"></div>
            </div>

            <!-- Clientes Section -->
            <div id="clientes-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Gest√£o de Clientes</h1>
                        <p>Gerencie todos os clientes do sistema</p>
                    </div>
                </div>

                <div class="card">
                    <div class="filters-bar">
                        <input 
                            type="text" 
                            id="searchClient" 
                            placeholder="üîç Buscar cliente..." 
                            class="search-input"
                            oninput="filterClients()"
                        >
                        <select id="clientStatusFilter" class="filter-select" onchange="filterClients()">
                            <option value="all">Todos os Status</option>
                            <option value="active">‚úì Ativos</option>
                            <option value="blocked">üö´ Bloqueados</option>
                        </select>
                    </div>
                    <div id="clientsList"></div>
                </div>
            </div>

            <!-- Funcion√°rios Section -->
            <div id="funcionarios-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Gest√£o de Funcion√°rios</h1>
                        <p>Adicione e gerencie funcion√°rios do sistema</p>
                    </div>
                    <button class="btn-primary-dash" onclick="openAddEmployeeModal()">
                        <span>‚ûï</span>
                        Adicionar Funcion√°rio
                    </button>
                </div>

                <div class="card">
                    <div id="employeesList"></div>
                </div>
            </div>

            <!-- Relat√≥rios Section -->
            <div id="relatorios-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Relat√≥rios e An√°lises</h1>
                        <p>An√°lise detalhada do desempenho</p>
                    </div>
                    <button class="btn-primary-dash" onclick="exportReportAdmin()">
                        <span>üì•</span>
                        Exportar Relat√≥rio
                    </button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: #10B981;">üí∞</div>
                        <div class="stat-value" id="reportReceitaTotal">0 Kz</div>
                        <div class="stat-label">Receita Total</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3B82F6;">üìä</div>
                        <div class="stat-value" id="reportTotalReservasAdmin">0</div>
                        <div class="stat-label">Total de Reservas</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: rgba(139, 92, 246, 0.1); color: #8B5CF6;">üìà</div>
                        <div class="stat-value" id="reportTaxaConversao">0%</div>
                        <div class="stat-label">Taxa de Convers√£o</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: #F59E0B;">‚≠ê</div>
                        <div class="stat-value" id="reportTicketMedioAdmin">0 Kz</div>
                        <div class="stat-label">Ticket M√©dio</div>
                    </div>
                </div>

                <div class="reports-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Top 5 Hot√©is</h3>
                        </div>
                        <div id="topHotelsAdmin"></div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Top 5 Pacotes</h3>
                        </div>
                        <div id="topPackagesAdmin"></div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Reservas por M√™s</h3>
                    </div>
                    <div id="monthlyChart"></div>
                </div>
            </div>

            <!-- Configura√ß√µes Section -->
            <div id="configuracoes-section" class="section">
                <div class="dashboard-header">
                    <div>
                        <h1>Configura√ß√µes do Sistema</h1>
                        <p>Gerencie as configura√ß√µes gerais</p>
                    </div>
                </div>

                <div class="card">
                    <div class="config-section">
                        <h3>Informa√ß√µes da Empresa</h3>
                        <div class="config-grid">
                            <div class="form-group">
                                <label>Nome da Empresa</label>
                                <input type="text" class="form-input" value="Juzzs Travel & Hospitality" readonly>
                            </div>
                            <div class="form-group">
                                <label>Email de Contato</label>
                                <input type="email" class="form-input" value="contato@juzzs.ao" readonly>
                            </div>
                            <div class="form-group">
                                <label>Telefone</label>
                                <input type="tel" class="form-input" value="+244 935 144 360" readonly>
                            </div>
                            <div class="form-group">
                                <label>Endere√ßo</label>
                                <input type="text" class="form-input" value="Menongue, Angola" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="config-section">
                        <h3>A√ß√µes do Sistema</h3>
                        <div class="config-actions">
                            <button class="btn-config-action danger" onclick="clearAllData()">
                                üóëÔ∏è Limpar Todos os Dados
                            </button>
                            <button class="btn-config-action" onclick="exportSystemData()">
                                üì• Exportar Dados do Sistema
                            </button>
                            <button class="btn-config-action" onclick="viewSystemLogs()">
                                üìã Ver Logs do Sistema
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    
    <!-- Add Employee Modal -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Novo Funcion√°rio</h3>
                <button class="modal-close" onclick="closeModal('addEmployeeModal')">√ó</button>
            </div>
            
            <form id="addEmployeeForm">
                <div class="form-group">
                    <label for="empName">Nome Completo</label>
                    <input type="text" id="empName" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="empEmail">Email</label>
                    <input type="email" id="empEmail" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="empPhone">Telefone</label>
                    <input type="tel" id="empPhone" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="empPassword">Senha</label>
                    <input type="password" id="empPassword" class="form-input" required minlength="6">
                </div>
                
                <button type="submit" class="btn-submit">Adicionar Funcion√°rio</button>
            </form>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Editar Usu√°rio</h3>
                <button class="modal-close" onclick="closeModal('editUserModal')">√ó</button>
            </div>
            
            <form id="editUserForm">
                <input type="hidden" id="editUserId">
                
                <div class="form-group">
                    <label for="editUserName">Nome Completo</label>
                    <input type="text" id="editUserName" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="editUserEmail">Email</label>
                    <input type="email" id="editUserEmail" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="editUserPhone">Telefone</label>
                    <input type="tel" id="editUserPhone" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="editUserPassword">Nova Senha (deixe em branco para manter)</label>
                    <input type="password" id="editUserPassword" class="form-input" minlength="6">
                </div>
                
                <button type="submit" class="btn-submit">Salvar Altera√ß√µes</button>
            </form>
        </div>
    </div>

    <!-- Reservation Details Modal (Reusing from employee dashboard) -->
    <div id="reservationModalAdmin" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 class="modal-title">Detalhes da Reserva</h3>
                <button class="modal-close" onclick="closeModal('reservationModalAdmin')">√ó</button>
            </div>
            <div id="reservationDetailsAdmin"></div>
        </div>
    </div>

    <!-- Invoice Modal -->
    <div id="invoiceModalAdmin" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header no-print">
                <h3 class="modal-title">Fatura / Recibo</h3>
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="printInvoiceAdmin()">
                        <span>üñ®Ô∏è</span> Imprimir
                    </button>
                    <button class="modal-close" onclick="closeModal('invoiceModalAdmin')">√ó</button>
                </div>
            </div>
            <div id="invoiceContentAdmin"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="dashboard-data.js"></script>
    <script src="admin-dashboard.js"></script>
</body>
</html>